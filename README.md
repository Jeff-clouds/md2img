# Markdown 转 PNG（纯前端）

一个将 Markdown 文本渲染为图片（PNG）的纯前端小工具。无需服务端，直接在浏览器本地打开即可使用；默认通过 CDN 加载依赖，联网即可使用，如需离线可改成本地引用。

## 功能特性
- 纯前端：无需安装、无需后端，双击 `index.html` 即可用。
- Markdown 渲染：使用 `marked` 支持 GFM，自动代码高亮（`highlight.js`）。
- 安全过滤：集成 `DOMPurify`，对渲染 HTML 做 XSS 过滤。
- 导出图片：基于 `html-to-image` 生成 PNG，可调宽度与边距。
- 主题风格：内置 4 款主题
  - 轻质主题（亮色）
  - GitHub（暗色）
  - Twitter（暗色）
  - 极浅渐变（浅色）
- 元信息区：可选显示作者、日期、字数；文件名自动取一级标题。

## 快速开始
- 直接打开：用浏览器打开仓库中的 `index.html` 即可使用。
- 本地服务（可选）：
  - Node 环境：在项目目录执行 `npx serve .` 后用浏览器访问提示的本地地址。
  - VS Code：安装 Live Server 插件后，右键 `index.html` 选择 “Open with Live Server”。
  - 说明：浏览器的“复制到剪贴板”通常要求在安全上下文（HTTPS）中使用；若在本地文件或非 HTTPS 环境失败，请使用“下载 PNG”。

## 使用说明
- 在左侧“Markdown 文本”输入框粘贴或编写 Markdown；右侧实时预览。
- 点击“填充示例”快速查看渲染效果与导出功能。
- “定制信息”：填写作者、日期，勾选显示作者/日期/字数。
- “导出设置”：
  - 主题：在 4 款主题之间切换（会同步调整代码高亮与背景）。背景不再单独提供自定义色。
  - 图片宽度（px）：控制导出图片宽度。
  - 边距（px）：控制内容与边框的留白。
- 导出：
  - 点击“生成 PNG”将图片另存为文件（自动触发下载）。
  - 点击“复制到剪贴板”将 PNG 写入系统剪贴板（需浏览器支持与权限）。

## 兼容性与限制
- 现代浏览器（Chrome/Edge/Firefox 最新版）表现最佳；Safari 对剪贴板写入可能更严格。
- 复制到剪贴板需要安全上下文（HTTPS）与用户手势；失败时请改用“下载 PNG”。
- 超长内容或超大尺寸图片可能耗费内存导致生成失败；可尝试减小宽度、分段导出或关闭其它标签页后重试。

## 技术栈
- UI 与排版：Tailwind CSS（含 Typography 插件）。
- Markdown 渲染：marked。
- 代码高亮：highlight.js。
- 安全过滤：DOMPurify。
- 导出图片：html-to-image。

以上均通过 CDN 引入，见 `index.html` 顶部的 `<script>` 与 `<link>` 标签。

## 目录结构
- `index.html`：单文件应用，包含界面与全部逻辑。
- `README.md`：项目说明。

## 离线使用（可选）
若需在完全离线环境使用，可将所需依赖下载到本地（例如放入 `vendor/` 目录），并把 `index.html` 中的外链替换为本地路径：
- Tailwind CSS（含 typography 插件）
- highlight.js（CSS + JS）
- marked
- DOMPurify
- html-to-image

完成替换后，保存并重新打开 `index.html` 即可离线使用。

## 常见问题
- 图片生成失败：通常与内存不足或安全策略有关；请降低图片宽度、缩短正文、或使用“下载 PNG”。
- 代码高亮未生效：请为代码块指定语言标识，例如 ```js、```ts 等；否则使用自动识别。
- 文件名规则：若 Markdown 中存在一级标题（# 标题），导出文件名将取其文本；否则为 `markdown.png`。

## 计划&想法
- 自定义字体与字号、行高、段落间距等排版选项。
- 更多导出格式（SVG/JPEG）与更高分辨率控制。
- 支持粘贴图片、表情和本地图床占位。

